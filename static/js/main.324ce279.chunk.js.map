{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Footer.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","images/ok.svg","images/cancel.svg","components/InfoTooltip.js","utils/Api.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/Auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","locationLink","useLocation","className","src","logo","alt","loggedIn","headerEmail","onClick","logOut","pathname","to","CurrentUserContext","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","CardClick","type","onCardDelete","name","onCardLike","length","Footer","Date","getFullYear","Main","avatar","about","onEditAvatar","onEditProfile","onAddPlace","cards","map","onCardClick","handleCardLike","handleCardDelete","PopupWithForm","isOpen","id","method","title","children","onClose","ImagePopup","status","links","EditProfilePopup","React","useState","UserName","setName","description","setDescription","useEffect","_","required","maxLength","minLength","value","onChange","evt","target","preventDefault","onUpdateUser","Login","registerEmail","setRegisterEmail","registerPass","setRegisterPass","onSubmit","handleLoginUser","placeholder","Register","handleRegisterUser","ProtectedRoute","Component","component","InfoTooltip","loadingOk","ok","cancel","cool","error","api","data","this","_url","url","_headers","headers","fetch","then","_checkStatus","names","body","JSON","stringify","console","log","checkCard","res","json","Promise","reject","Authorization","EditAvatarPopup","urlRef","useRef","ref","onUpdateAvatar","current","AddPlacePopup","cardName","setCardName","cardLink","setCardLink","BASE_URL","authApi","password","email","sign","Accept","App","history","useHistory","isEditPlacePopupOpen","setIsEditPlace","isEditAvatarPopupOpen","setIsEditAvatar","isEditProfilePopupOpen","setIsEditProfile","tooltip","setToolTip","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","setLoadingOk","setHeaderEmail","closeAllPopups","token","localStorage","getItem","push","catch","err","getInfo","receiveCardsInServer","Provider","removeItem","path","setItem","exact","putLikes","newCard","newCards","c","deleteCards","newCardsList","filter","editInfoUser","item","upCardsToTheServer","editAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.324ce279.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from \"react\";\r\nimport { useLocation } from \"react-router\";\r\nimport logo from \"../images/logo.svg\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Header(props) {\r\n  const locationLink = useLocation();\r\n\r\n  const linkSwitch = () =>\r\n    locationLink.pathname === \"/sign-in\" ? (\r\n      <Link className=\"header__text\" to=\"/sign-up\">\r\n        Регистрация\r\n      </Link>\r\n    ) : (\r\n      <Link className=\"header__text\" to=\"/sign-in\">\r\n        Войти\r\n      </Link>\r\n    );\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={logo} alt=\"Логотип Место\"></img>\r\n      {props.loggedIn ? (\r\n        <div className=\"header__box\">\r\n          <p className=\"header__email\">{props.headerEmail}</p>\r\n          <a className=\"header__title\" onClick={props.logOut}>Выйти</a>\r\n        </div>\r\n      ) : (\r\n        linkSwitch()\r\n      )}\r\n    </header>\r\n  );\r\n}\r\nexport default Header;\r\n","import { createContext } from \"react\";\r\n\r\nexport const CurrentUserContext = createContext();\r\n","import React, { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n  // Получение контекста\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  // Сравниваем свой id с id карточки\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n  // Проверка на удаление карточки (в className)\r\n  const cardDeleteButtonClassName = `cards__delete ${\r\n    isOwn ? \"\" : \"cards__delete_inactive\"\r\n  }`;\r\n\r\n  // Проверка поставили лайк или нет\r\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  // Отображение лайка (в className)\r\n  const cardLikeButtonClassName = `cards__like ${\r\n    isLiked ? \"cards__like_active\" : \"\"\r\n  }`;\r\n\r\n  // Клик по картинке\r\n  function handleClick() {\r\n    props.CardClick(props.card);\r\n  }\r\n  // Отслеживание лайков\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n  // Удаление карточки\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  return (\r\n    <div className=\"cards__item\">\r\n      <img\r\n        className=\"cards__image\"\r\n        src={props.card.link}\r\n        alt=\"\"\r\n        onClick={handleClick}\r\n      ></img>\r\n      <button\r\n        className={cardDeleteButtonClassName}\r\n        type=\"button\"\r\n        onClick={handleDeleteClick}\r\n      ></button>\r\n      <div className=\"cards__info\">\r\n        <h2 className=\"cards__text\">{props.card.name}</h2>\r\n        <div className=\"cards__container\">\r\n          <button\r\n            className={cardLikeButtonClassName}\r\n            type=\"button\"\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <p className=\"cards__like_count\">{props.card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Card;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__author\">&copy;{new Date().getFullYear()}. Илья Шнырев</p>\r\n    </footer>\r\n  );\r\n}\r\nexport default Footer;\r\n","import React, { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport Card from \"./Card\";\r\nimport Footer from \"./Footer\";\r\n\r\nconst Main = (props) => {\r\n  const { name, avatar, about } = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar_box\">\r\n          <img className=\"profile__image\" src={avatar} alt=\"Аватар\"></img>\r\n          <button\r\n            className=\"profile__avatar\"\r\n            onClick={props.onEditAvatar}\r\n          ></button>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__button\">\r\n            <h1 className=\"profile__author\">{name}</h1>\r\n            <button\r\n              className=\"profile__edit profile__edit_open_popup\"\r\n              type=\"button\"\r\n              onClick={props.onEditProfile}\r\n            ></button>\r\n          </div>\r\n          <p className=\"profile__description\">{about}</p>\r\n        </div>\r\n        <button\r\n          className=\"profile__add\"\r\n          type=\"button\"\r\n          onClick={props.onAddPlace}\r\n        ></button>\r\n      </section>\r\n      <section className=\"cards\">\r\n        {props.cards.map((card) => {\r\n          return (\r\n            <Card\r\n              card={card}\r\n              CardClick={props.onCardClick}\r\n              key={card._id}\r\n              onCardLike={props.handleCardLike}\r\n              onCardDelete={props.handleCardDelete}\r\n            />\r\n          );\r\n        })}\r\n      </section>\r\n      <Footer />\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <section\r\n      className={`popup ${props.name} ${props.isOpen ? \"popup_opened\" : \"\"}`}\r\n      id=\"edit__popup\"\r\n    >\r\n      <form method=\"POST\" className=\"popup__container\" name={props.name}>\r\n        <h2 className=\"popup__heading\">{props.title}</h2>\r\n        {props.children}\r\n        <button\r\n          type=\"reset\"\r\n          className=\"popup__close\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <section\r\n      className={`popup photo ${props.card.status ? \"popup_opened\" : \"\"}`}\r\n    >\r\n      <div className=\"photo__container\">\r\n        <img className=\"photo__image\" src={props.card.links} alt=\"\"></img>\r\n        <p className=\"photo__text\">{props.card.title}</p>\r\n        <button\r\n          type=\"reset\"\r\n          className=\"popup__close photo__close\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\nexport default ImagePopup;\r\n","import React, { useContext } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nconst EditProfilePopup = (props) => {\r\n  const [UserName, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  React.useEffect(\r\n    (_) => {\r\n      setName(currentUser.name);\r\n      setDescription(currentUser.about);\r\n    },\r\n    [currentUser]\r\n  );\r\n\r\n  const handleChangeName = (evt) => {\r\n    setName(evt.target.value);\r\n  };\r\n  const handleChangeDescription = (evt) => {\r\n    setDescription(evt.target.value);\r\n  };\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    props.onUpdateUser(UserName, description);\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"popup\"\r\n      title=\"Редактировать профиль\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <input\r\n          id=\"name-input\"\r\n          type=\"text\"\r\n          name=\"name\"\r\n          className=\"popup__text popup__text_name_input\"\r\n          required\r\n          maxLength=\"40\"\r\n          minLength=\"2\"\r\n          value={UserName || \"\"}\r\n          onChange={handleChangeName}\r\n        ></input>\r\n        <span className=\"popup__error\" id=\"name-input-error\"></span>\r\n      </label>\r\n      <label className=\"popup__label\">\r\n        <input\r\n          id=\"job-input\"\r\n          type=\"text\"\r\n          name=\"job\"\r\n          className=\"popup__text popup__text_job_input\"\r\n          required\r\n          maxLength=\"200\"\r\n          minLength=\"2\"\r\n          value={description || \"\"}\r\n          onChange={handleChangeDescription}\r\n        ></input>\r\n        <span className=\"popup__error\" id=\"job-input-error\"></span>\r\n      </label>\r\n      <button\r\n        type=\"submit\"\r\n        className=\"popup__button popup__button_form_save\"\r\n        onClick={handleSubmit}\r\n      >\r\n        Сохранить\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\n\r\nfunction Login(props) {\r\n  const [registerEmail, setRegisterEmail] = React.useState(\"\");\r\n  const [registerPass, setRegisterPass] = React.useState(\"\");\r\n\r\n  const handleChangeEmail = (evt) => {\r\n    setRegisterEmail(evt.target.value);\r\n  };\r\n  const handleChangePass = (evt) => {\r\n    setRegisterPass(evt.target.value);\r\n  };\r\n\r\n  const handleSubmitLogin = (evt) => {\r\n    evt.preventDefault();\r\n    props.handleLoginUser(registerPass, registerEmail);\r\n  }\r\n\r\n  return (\r\n    <section className=\"login\">\r\n      <form className=\"login__form\" onSubmit={handleSubmitLogin}>\r\n        <h2 className=\"login__title\">Вход</h2>\r\n        <input\r\n          placeholder=\"Email\"\r\n          type=\"email\"\r\n          className=\"login__input\"\r\n          name=\"email\"\r\n          value={registerEmail}\r\n          onChange={handleChangeEmail}\r\n        ></input>\r\n        <input\r\n          placeholder=\"Пароль\"\r\n          type=\"password\"\r\n          className=\"login__input\"\r\n          name=\"password\"\r\n          value={registerPass}\r\n          onChange={handleChangePass}\r\n        ></input>\r\n        <button type=\"submit\" className=\"login__button\">\r\n          Войти\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\nexport default Login;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Register(props) {\r\n  const [registerEmail, setRegisterEmail] = React.useState(\"\");\r\n  const [registerPass, setRegisterPass] = React.useState(\"\");\r\n\r\n  const handleChangeEmail = (evt) => {\r\n    setRegisterEmail(evt.target.value);\r\n  };\r\n  const handleChangePass = (evt) => {\r\n    setRegisterPass(evt.target.value);\r\n  };\r\n\r\n  const handleSubmitRegister = (evt) => {\r\n    evt.preventDefault();\r\n    props.handleRegisterUser(registerPass, registerEmail);\r\n  }\r\n\r\n  return (\r\n    <section className=\"register\">\r\n      <form className=\"register__form\" onSubmit={handleSubmitRegister}>\r\n        <h2 className=\"register__title\">Регистрация</h2>\r\n        <input\r\n          placeholder=\"Email\"\r\n          type=\"email\"\r\n          className=\"register__input\"\r\n          name=\"email\"\r\n          value={registerEmail}\r\n          onChange={handleChangeEmail}\r\n        ></input>\r\n        <input\r\n          placeholder=\"Пароль\"\r\n          type=\"password\"\r\n          className=\"register__input\"\r\n          name=\"password\"\r\n          value={registerPass}\r\n          onChange={handleChangePass}\r\n        ></input>\r\n        <button type=\"submit\" className=\"register__button\">\r\n          Зарегистрироваться\r\n        </button>\r\n        <span className=\"register__text\">\r\n          Уже зарегистированы?{\" \"}\r\n          <Link className=\"register__link\" to=\"/sign-in\">\r\n            Войти\r\n          </Link>\r\n        </span>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\nexport default Register;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\n// этот компонент принимает другой компонент в качестве пропса\r\n// он также может взять неограниченное число пропсов и передать их новому компоненту\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","export default __webpack_public_path__ + \"static/media/ok.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/cancel.df8eddf6.svg\";","import React from \"react\";\r\nimport ok from \"../images/ok.svg\";\r\nimport cancel from \"../images/cancel.svg\";\r\n\r\nfunction InfoTooltip(props) {\r\n  return (\r\n    <section className={`tool ${props.isOpen ? \"popup_opened\" : \"\"}`}>\r\n      <div className=\"tool__container\">\r\n        <button\r\n          className=\"tool__button\"\r\n          type=\"reset\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n\r\n        <div className=\"tool__image\">\r\n          {props.loadingOk ? (\r\n            <img src={ok} alt=\"ok\" />\r\n          ) : (\r\n            <img src={cancel} alt=\"error\" />\r\n          )}\r\n        </div>\r\n        <span className=\"tool__text\">\r\n          {props.loadingOk\r\n            ? props.cool\r\n            : props.error}\r\n        </span>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","class Api {\r\n  constructor(data) {\r\n    this._url = data.url;\r\n    this._headers = data.headers;\r\n  }\r\n\r\n  // Информация о пользователе\r\n  getInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._checkStatus);\r\n  }\r\n  // Добавление карточек с сервера\r\n  receiveCardsInServer() {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._checkStatus);\r\n  }\r\n  // Добавление карточек из попап\r\n  upCardsToTheServer(names, links) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: names,\r\n        link: links,\r\n      }),\r\n    }).then(this._checkStatus);\r\n  }\r\n  // Редактирование информации о пользователе\r\n  editInfoUser(names, links) {\r\n    console.log(links);\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: names,\r\n        about: links,\r\n      }),\r\n    }).then(this._checkStatus);\r\n  }\r\n  // Удаление карточки\r\n  deleteCards(id) {\r\n    return fetch(`${this._url}/cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._checkStatus);\r\n  }\r\n  // Редактирование аватара\r\n  editAvatar(data) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data,\r\n      }),\r\n    }).then(this._checkStatus);\r\n  }\r\n  // Постановка и удаление лайка\r\n  putLikes(id, checkCard) {\r\n    if (checkCard) {\r\n      return fetch(`${this._url}/cards/likes/${id}`, {\r\n        method: \"PUT\",\r\n        headers: this._headers,\r\n      }).then(this._checkStatus);\r\n    } else {\r\n      return fetch(`${this._url}/cards/likes/${id}`, {\r\n        method: \"DELETE\",\r\n        headers: this._headers,\r\n      }).then(this._checkStatus);\r\n    }\r\n  }\r\n  // Проверка на ошибки\r\n  _checkStatus(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n}\r\nconst api = new Api({\r\n  url: \"https://mesto.nomoreparties.co/v1/cohort-17\",\r\n  headers: {\r\n    Authorization: \"ef54f240-380e-482d-82be-6a3e691e6be6\",\r\n    \"content-type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;\r\n","import React, { useRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nconst EditAvatarPopup = (props) => {\r\n  const urlRef = useRef(\"\");\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    props.onUpdateAvatar(urlRef.current.value);\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"popup__avatar\"\r\n      title=\"Обновить аватар\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <input\r\n          type=\"url\"\r\n          id=\"url-input\"\r\n          name=\"link\"\r\n          placeholder=\"Ссылка на аватар\"\r\n          className=\"popup__text popup__text_avatar\"\r\n          required\r\n          ref={urlRef}\r\n        ></input>\r\n        <span className=\"popup__error\" id=\"url-input-error\"></span>\r\n      </label>\r\n      <button\r\n        type=\"submit\"\r\n        className=\"popup__button popup__button_avatar_form\"\r\n        onClick={handleSubmit}\r\n      >\r\n        Сохранить\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default EditAvatarPopup;\r\n","import React, { useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nconst AddPlacePopup = (props) => {\r\n  const [cardName, setCardName] = useState(\"\");\r\n  const [cardLink, setCardLink] = useState(\"\");\r\n\r\n  const handleChangeName = (evt) => {\r\n    setCardName(evt.target.value);\r\n  };\r\n  const handleChangeLink = (evt) => {\r\n    setCardLink(evt.target.value);\r\n  };\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    props.onAddPlace(cardName, cardLink);\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"popup_cards\"\r\n      title=\"Новое место\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <input\r\n          type=\"text\"\r\n          id=\"input-name\"\r\n          value={cardName || \"\"}\r\n          name=\"name\"\r\n          placeholder=\"Название\"\r\n          className=\"popup__text popup__text_name_cards\"\r\n          required\r\n          maxLength=\"30\"\r\n          minLength=\"2\"\r\n          onChange={handleChangeName}\r\n        ></input>\r\n        <span className=\"popup__error\" id=\"input-name-error\"></span>\r\n      </label>\r\n      <label className=\"popup__label\">\r\n        <input\r\n          type=\"url\"\r\n          id=\"url-input\"\r\n          name=\"link\"\r\n          value={cardLink || \"\"}\r\n          placeholder=\"Ссылка на картинку\"\r\n          className=\"popup__text popup__text_job_cards\"\r\n          required\r\n          onChange={handleChangeLink}\r\n        ></input>\r\n        <span className=\"popup__error\" id=\"url-input-error\"></span>\r\n      </label>\r\n      <button\r\n        type=\"submit\"\r\n        className=\"popup__button popup__button_save_form\"\r\n        onClick={handleSubmit}\r\n      >\r\n        Сохранить\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default AddPlacePopup;\r\n","export const BASE_URL = \"https://auth.nomoreparties.co\";\r\n\r\n// Регистрация / авторизация пользователя\r\nconst authApi = (password, email, sign) => {\r\n    return fetch(`${BASE_URL}/${sign}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ password, email }),\r\n    }).then((res) => {\r\n      if (res.status === 200 || res.status === 201) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  };\r\n\r\n  const authApiToken = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }).then((res) => {\r\n      if (res.status === 200) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  };\r\n\r\nexport {authApiToken, authApi};\r\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport api from \"../utils/Api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport { Redirect, Route, Switch, useHistory } from \"react-router\";\nimport { authApiToken, authApi } from \"../utils/Auth\";\n\nconst App = (_) => {\n  const history = new useHistory();\n  const [isEditPlacePopupOpen, setIsEditPlace] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatar] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfile] = React.useState(false);\n  const [tooltip, setToolTip] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [loadingOk, setLoadingOk] = React.useState(true);\n  const [headerEmail, setHeaderEmail] = React.useState(\"\");\n\n  // Постановка лайков и отправка на сервер\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    api\n      .putLikes(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => console.log(err));\n  }\n  // Получение email пользователя\n  React.useEffect((_) => {\n    if (localStorage.getItem(\"jwt\")) {\n      authApiToken(localStorage.getItem(\"jwt\"))\n        .then((res) => {\n          if (res.data) {\n            setHeaderEmail(res.data.email);\n            setLoggedIn(true);\n            history.push(\"/\");\n          }\n        })\n        .catch((err) => console.log(err));\n    }\n  });\n\n  // Регистрация пользователя\n  function handleRegisterUser(password, email) {\n    setLoadingOk(true);\n    authApi(password, email, \"signup\")\n      .then((res) => {\n        if (res.data) {\n          setToolTip(true);\n          history.push(\"/sign-in\");\n        }\n      })\n      .catch((err) => {\n        if (err.status === 400) {\n          console.log(err);\n        }\n        setLoadingOk(false);\n        setToolTip(true);\n      });\n  }\n\n  // Авторизация пользователя\n  function handleLoginUser(password, email) {\n    authApi(password, email, \"signin\")\n      .then((res) => {\n        if (res.token) {\n          localStorage.setItem(\"jwt\", res.token);\n          setLoggedIn(true);\n          history.push(\"/\");\n        }\n      })\n      .catch((err) => console.log(err));\n  }\n  // Выход\n  function logOut() {\n    localStorage.removeItem(\"jwt\");\n    setLoggedIn(false);\n    history.push(\"/sign-in\");\n  }\n\n  // Удаление карточки с сервера\n  function handleCardDelete(card) {\n    api\n      .deleteCards(card._id)\n      .then((_) => {\n        const newCardsList = cards.filter((value) => card._id !== value._id);\n        setCards(newCardsList);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  // Добавление карточки на сервер\n  function handleAddPlaceSubmit(name, link) {\n    api\n      .upCardsToTheServer(name, link)\n      .then((item) => {\n        setCards([item, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  React.useEffect((_) => {\n    api\n      .getInfo()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((error) => console.log(error));\n  }, []);\n\n  React.useEffect((_) => {\n    api\n      .receiveCardsInServer()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch((error) => console.log(error));\n  }, []);\n  // Обновление информации о пользователе\n  function handleUpdateUser(name, about) {\n    api.editInfoUser(name, about).then((item) => {\n      setCurrentUser(item);\n      closeAllPopups();\n    });\n  }\n  // Обновление аватара пользователя\n  function handleUpdateAvatar(url) {\n    api\n      .editAvatar(url)\n      .then((item) => {\n        setCurrentUser(item);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatar(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfile(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsEditPlace(true);\n  }\n\n  function handleCardClick(props) {\n    setSelectedCard({ status: true, title: props.name, links: props.link });\n  }\n  function closeAllPopups() {\n    setIsEditAvatar(false);\n    setIsEditProfile(false);\n    setIsEditPlace(false);\n    setToolTip(false);\n    setSelectedCard({});\n  }\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header headerEmail={headerEmail} loggedIn={loggedIn} logOut={logOut} />\n        <Switch>\n          <Route path=\"/sign-in\">\n            <Login handleLoginUser={handleLoginUser} />\n          </Route>\n          <Route path=\"/sign-up\">\n            <Register handleRegisterUser={handleRegisterUser} />\n          </Route>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            loggedIn={loggedIn}\n            component={Main}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            setCards={setCards}\n            handleCardLike={handleCardLike}\n            handleCardDelete={handleCardDelete}\n          />\n          <Route path=\"*\">\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n\n        {/* <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          setCards={setCards}\n          handleCardLike={handleCardLike}\n          handleCardDelete={handleCardDelete}\n        /> */}\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <AddPlacePopup\n          isOpen={isEditPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        <PopupWithForm name=\"delete__cards\" title=\"Вы уверены?\">\n          <button className=\"popup__button popup__delete_button\">Да</button>\n          <button\n            type=\"reset\"\n            className=\"popup__close popup__delete_close_button\"\n          ></button>\n        </PopupWithForm>\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <InfoTooltip\n          isOpen={tooltip}\n          onClose={closeAllPopups}\n          loadingOk={loadingOk}\n          cool={\"Вы успешно зарегистрировались!\"}\n          error={\"Что-то пошло не так! Попробуйте ещё раз.\"}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}